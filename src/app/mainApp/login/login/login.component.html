<div class="loginContainer">
  <div nz-row>
    <div nz-col nzSpan="7" nzOffset="9">
      <nz-card class="cardContainer">
        <h3 nz-typography class="loginHeaderText">Log In</h3>

        <form nz-form (ngSubmit)="loginSubmit()" [formGroup]="loginForm" autocomplete="off">
          <nz-spin [nzSpinning]="loading" [nzIndicator]="indicatorTemplate" nzTip="Logging in">
            <span nz-text nzType="danger" [ngStyle]="{ 'margin-bottom': '5px' }">{{ errorMessage }}</span>

            <nz-form-item>
              <nz-form-control [nzErrorTip]="displayMessage.username" title="Username">
                <input type="email" nz-input formControlName="username" placeholder="Email" />
              </nz-form-control>
            </nz-form-item>

            <nz-form-item>
              <nz-form-control [nzErrorTip]="displayMessage.password">
                <nz-input-group [nzSuffix]="suffixTemplate">
                  <input [type]="passwordVisible ? 'text' : 'password'" nz-input formControlName="password" placeholder="Password" />
                </nz-input-group>
              </nz-form-control>
              <ng-template #suffixTemplate>
                <i nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" (click)="passwordVisible = !passwordVisible"></i>
              </ng-template>
            </nz-form-item>

            <nz-form-item>
              <nz-form-control>
                <label nz-checkbox class="login-form-remember-me">
                  <span>Remember me</span>
                </label>
                <a class="login-form-forgot" (click)="gotoForgotPassword()">Forgot password</a>
                <button nz-button class="login-form-button" [nzType]="'primary'">LOGIN</button>
              </nz-form-control>
            </nz-form-item>
          </nz-spin>
        </form>
      </nz-card>
    </div>
  </div>
</div>

<ng-template #indicatorTemplate>
  <i nz-icon nzType="loading" class="login-loading"></i>
</ng-template>
